import "dotenv/config";
import { fileCreateTool } from "../../tools/file/create";

async function main() {
	console.log("ðŸš€ Starting file.create test...");

	const testArgs = {
		path: "test-output/hello-world.txt",
		// å®Ÿéš›ã«ã¯å¤–éƒ¨ã‹ã‚‰æ³¨å…¥ã•ã‚Œã‚‹ãŒã€ç›´æŽ¥å©ãã®ã§å†…å®¹ã‚’è¨˜è¿°
		content: `Test content generated by script.\nDate: ${new Date().toISOString()}`,
	};

	console.log(`ðŸ“ Target path: ${testArgs.path}`);

	// handler ã‚’ç›´æŽ¥å®Ÿè¡Œ
	const response = await fileCreateTool.handler(testArgs);

	// 'status' ã§ã¯ãªã 'success' ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ç¢ºèª
	if (response.success) {
		console.log("âœ… SUCCESS:");
		// æˆåŠŸæ™‚ã¯ response.summary ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå…¥ã£ã¦ã„ã‚‹
		console.log(`Summary: ${response.summary}`);
	} else {
		console.error("âŒ FAILED:");
		// å¤±æ•—æ™‚ã¯ response.error ã«è©³ç´°ãŒå…¥ã£ã¦ã„ã‚‹
		console.error(`Error: ${response.error}`);
	}
}

main().catch((err) => {
	console.error("ðŸ’¥ Critical script error:", err);
	process.exit(1);
});
