# elves-shoemaker
**16GB vRAMで完結する、ローカルLLM自律エージェントの制御基盤**

## 命名のバックストーリー
「小人の靴屋」に着想を得た、自律型AIエージェントのオーケストレーターです。  
夜中に小人が靴を作るように、人間が介入することなく、背後で静かにタスクを完結させる存在を目指しています。

## AIエージェントの構成要素
本プロダクトは、思考エンジンと外部インターフェースを統合し、一つの「自律した意思」として機能させるための基盤です。

1. **思考（LLM）**: 推論、論理構築、文章生成（LM Studio等のローカルモデルを利用）。
2. **知覚・干渉（MCP）**: 外部環境の観測（ls, cat等）と、具体的な操作（write, exec等）。
3. **制御・記憶（オーケストレーター／本プロダクト）**: 
   - **ステートマシン制御**: 状況に応じた動的なモード遷移。
   - **記憶の最適化**: 履歴の抽象化とコンテキストの圧縮。

## 概要
ElvesShoemaker は、RTX 5060 Ti 等のコンシューマー環境で動作を完結させる自律実行基盤です。  
各モード（PDCA）を「状態（State）」として扱い、環境からのフィードバックに応じて動的にモードを切り替えながら、完了まで自走します。

## 内部ステート（PDCAモード）の役割
各モード内では、次の状態へ遷移するための条件が満たされるまで「思考」と「操作」が可変長で繰り返されます。

- **Plan（調査と計画モード）**: 【MCP：可】  
  現状を「知覚」し、実行手順を構築します。準備が整い次第、**Do** へ遷移します。
- **Do（実行モード）**: 【MCP：可】  
  手順に基づき、外界へ「干渉」します。成功すれば **Check** へ、致命的な問題があれば **Plan** (再計画) へ戻るなど、動的に判断します。
- **Check（検証モード）**: 【MCP：可】  
  作業結果を客観的に「知覚」し評価します。不十分なら **Do** や **Plan** へ戻り、妥当であれば **Act** へ遷移します。
- **Act（記憶の整理モード）**: 【MCP：不可】  
  一連のログを「要約」してDBへ定着。不要な生ログを捨ててコンテキストを最小限に圧縮し、次サイクルまたは **Finished** へ繋げます。

## 特徴
- **動的なステート遷移**: 固定順序に縛られず、エラー発生時や目標達成時に最適なモードへ自律的に切り替わります。
- **リソース最適化**: Actモードでの記憶整理により、長時間走行してもコンテキスト溢れや速度低下が発生しません。
- **重み付け学習**: 成功手順を「知恵」としてDBに蓄積し、使えば使うほど環境に馴染んだ職人（Elf）へ進化します。
- **完全ローカル**: 外部コスト・データ流出を気にせず、無限に試行錯誤が可能です。

## 動作要件
- **vRAM 16GB (RTX 5060 Ti 等)**
- **LM Studio**
- **Node.js**

## ライセンス
- [MIT](./LICENSE)

## 開発者 / Author
- [おんJ民](https://github.com/onjmin)
